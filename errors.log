info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers Parameter "filter" to findOne() must be an object, got jose.palestini@gmail.com {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got jose.palestini@gmail.com\n    at Query.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\query.js:2546:16)\n    at Function.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\model.js:2136:13)\n    at UsersDaoMongo.getUser (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\dao\\db\\user.mongo.js:20:37)\n    at UsersRepository.getOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\repositories\\user.repository.js:11:25)\n    at restorePassLink (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\controllers\\sessions.controller.js:117:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers Parameter "filter" to findOne() must be an object, got jose.palestini@gmail.com {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got jose.palestini@gmail.com\n    at Query.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\query.js:2546:16)\n    at Function.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\model.js:2136:13)\n    at UsersDaoMongo.getUser (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\dao\\db\\user.mongo.js:20:37)\n    at UsersRepository.getOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\repositories\\user.repository.js:11:25)\n    at restorePassLink (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\controllers\\sessions.controller.js:114:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers Parameter "filter" to findOne() must be an object, got jose.palestini@gmail.com {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got jose.palestini@gmail.com\n    at Query.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\query.js:2546:16)\n    at Function.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\model.js:2136:13)\n    at UsersDaoMongo.getUser (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\dao\\db\\user.mongo.js:20:37)\n    at UsersRepository.getOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\repositories\\user.repository.js:11:25)\n    at restorePassLink (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\controllers\\sessions.controller.js:115:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: User register successfull
info: your password was restored successfully
info: Conectado a la BD
info: Listening on port 8080
info: your password was restored successfully
info: your password was restored successfully
info: Conectado a la BD
info: Listening on port 8080
info: your password was restored successfully
info: Conectado a la BD
info: Listening on port 8080
info: your password was restored successfully
info: Conectado a la BD
info: Listening on port 8080
info: You can´t use the same password
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
error: Invalid restore link or link has expired.
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers E11000 duplicate key error collection: test.users index: email_1 dup key: { email: "pruekba@desde12r34est.com" } {"code":11000,"index":0,"keyPattern":{"email":1},"keyValue":{"email":"pruekba@desde12r34est.com"},"stack":"MongoServerError: E11000 duplicate key error collection: test.users index: email_1 dup key: { email: \"pruekba@desde12r34est.com\" }\n    at C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\operations\\insert.js:50:33\n    at C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\cmap\\connection_pool.js:327:25\n    at C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\sdam\\server.js:207:17\n    at handleOperationResult (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\sdam\\server.js:323:20)\n    at Connection.onMessage (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\cmap\\connection.js:213:9)\n    at MessageStream.<anonymous> (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\cmap\\connection.js:59:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers Parameter "filter" to findOne() must be an object, got 64b72f2416cedbce79a5ec0e {"stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got 64b72f2416cedbce79a5ec0e\n    at Query.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\query.js:2546:16)\n    at Function.findOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongoose\\lib\\model.js:2136:13)\n    at UsersDaoMongo.getUser (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\dao\\db\\user.mongo.js:20:37)\n    at UsersRepository.getOne (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\repositories\\user.repository.js:11:25)\n    at roleChange (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\src\\controllers\\users.controller.js:53:52)\n    at Layer.handle [as handle_request] (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\express\\lib\\router\\index.js:284:15"}
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: currentUser
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: The user role was changed to User
info: The user role was changed to User
info: The user role was changed to Premium
error: The user role was not changed
info: Conectado a la BD
info: Listening on port 8080
error: error en getUsers getaddrinfo ENOTFOUND ac-3qjb4yy-shard-00-02.x8zgzdu.mongodb.net {"reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":"7fffffff00000000000000a4","maxSetVersion":9,"servers":{},"setName":"atlas-v870al-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"stack":"MongoServerSelectionError: getaddrinfo ENOTFOUND ac-3qjb4yy-shard-00-02.x8zgzdu.mongodb.net\n    at Timeout._onTimeout (C:\\Users\\JoseLuis\\Desktop\\Coderhouse\\proyecto-backend-palestini\\node_modules\\mongodb\\lib\\sdam\\topology.js:277:38)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)"}
warning: User doesn´t exist
info: new client connect
info: productos enviados a realtime
info: new client connect
info: productos enviados a realtime
info: new client connect
info: productos enviados a realtime
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: new client connect
info: productos enviados a realtime
info: Conectado a la BD
info: Listening on port 8080
info: Conectado a la BD
info: Listening on port 8080
